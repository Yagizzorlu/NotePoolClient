// --- Variables ---
$primary-color: #667eea;
$text-dark: #1a202c;
$text-gray: #718096;
$border-color: #e2e8f0;
$bg-page: #f8fafc;
$bg-active: #ebf8ff;

:host {
  display: block;
  min-height: 100%;
  background-color: $bg-page;
}

.settings-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 40px 24px;
}

// --- HEADER ---
.settings-header {
  margin-bottom: 32px;
  .btn-back {
    color: $text-gray; text-decoration: none; font-weight: 600; font-size: 0.9rem;
    display: inline-flex; align-items: center; gap: 8px; margin-bottom: 12px;
    transition: color 0.2s;
    &:hover { color: $primary-color; }
  }
  h1 { font-size: 2rem; font-weight: 800; color: $text-dark; margin: 0; }
}

// --- LAYOUT (Sidebar + Content) ---
.settings-layout {
  display: grid;
  grid-template-columns: 240px 1fr;
  gap: 32px;
  align-items: start;

  @media (max-width: 768px) {
    grid-template-columns: 1fr; // Mobilde tek kolon
  }
}

// 1. SIDEBAR MENU
.settings-sidebar {
  .nav-menu {
    display: flex; flex-direction: column; gap: 4px;
  }

  .nav-item {
    display: flex; align-items: center; gap: 12px;
    padding: 12px 16px; border-radius: 12px;
    color: $text-gray; font-weight: 600; font-size: 0.95rem;
    text-decoration: none; cursor: pointer; transition: all 0.2s;

    &:hover { background-color: white; color: $primary-color; box-shadow: 0 2px 4px rgba(0,0,0,0.02); }

    &.active {
      background-color: white; color: $primary-color;
      box-shadow: 0 4px 12px rgba($primary-color, 0.1);
    }

    &.disabled { opacity: 0.5; cursor: not-allowed; pointer-events: none; }
  }
}

// 2. CARD BOX
.card-box {
  background: white;
  border-radius: 20px;
  border: 1px solid $border-color;
  padding: 40px;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02);

  @media (max-width: 600px) { padding: 24px; }
}

.section-header {
  margin-bottom: 32px;
  h2 { font-size: 1.5rem; font-weight: 700; color: $text-dark; margin: 0 0 8px; }
  p { color: $text-gray; margin: 0; }
}

// --- FORM SECTIONS ---
.avatar-section {
  display: flex; align-items: center; gap: 24px; margin-bottom: 32px;

  .avatar-preview {
    position: relative;
    .btn-upload-avatar {
      position: absolute; bottom: 0; right: 0;
      width: 36px; height: 36px; border-radius: 50%;
      background: $text-dark; color: white; border: 3px solid white;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; transition: transform 0.2s;
      &:hover { transform: scale(1.1); background: $primary-color; }
    }
  }

  .avatar-info {
    .hint { font-size: 0.85rem; color: $text-gray; }
  }
}

.divider { height: 1px; background: $border-color; border: none; margin: 32px 0; }

.form-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 24px;
  
  .full-width { grid-column: 1 / -1; }
  
  @media (max-width: 600px) { grid-template-columns: 1fr; }
}

.form-group {
  label { display: block; font-weight: 600; color: $text-dark; margin-bottom: 8px; font-size: 0.9rem; }
  
  .form-control {
    width: 100%; padding: 12px 16px; border-radius: 10px;
    border: 1px solid $border-color; font-size: 0.95rem; color: $text-dark;
    background: #fcfcfc; transition: all 0.2s;

    &:focus {
      outline: none; border-color: $primary-color; background: white;
      box-shadow: 0 0 0 3px rgba($primary-color, 0.1);
    }
    
    &:disabled { background: #f1f5f9; cursor: not-allowed; color: $text-gray; }
  }

  // Prefix Input (Username)
  .input-wrapper {
    position: relative; display: flex; align-items: center;
    
    .prefix {
      position: absolute; left: 16px; color: $text-gray; font-weight: 500; font-size: 0.95rem;
      pointer-events: none;
    }
    .with-prefix { padding-left: 130px; } // "notepool.com/@" uzunluÄŸu kadar pay
  }

  .hint { display: block; margin-top: 6px; font-size: 0.8rem; color: $text-gray; }
}

// --- ACTIONS ---
.form-actions {
  margin-top: 40px; display: flex; justify-content: flex-end; gap: 16px;
  
  button {
    padding: 12px 24px; border-radius: 10px; font-weight: 600; cursor: pointer; font-size: 0.95rem; transition: all 0.2s;
  }
  
  .btn-ghost {
    background: transparent; border: 1px solid transparent; color: $text-gray;
    &:hover { background: #f1f5f9; color: $text-dark; }
  }

  .btn-primary {
    background: $primary-color; border: none; color: white;
    display: flex; align-items: center; gap: 8px;
    
    &:hover { background: darken($primary-color, 5%); transform: translateY(-1px); }
    &:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
  }
}

.loading-wrapper { display: flex; justify-content: center; padding: 60px 0; }