<div class="dialog-container">
  <h2 mat-dialog-title>{{ data.title }}</h2>

  <mat-dialog-content>
    
    <div class="upload-area" 
         [class.dragging]="isDragging"
         (dragover)="onDragOver($event)" 
         (dragleave)="onDragLeave($event)" 
         (drop)="onDrop($event)"
         (click)="fileInput.click()">
      
      <input #fileInput type="file" [multiple]="data.multiple" [accept]="data.accept" (change)="onFileSelected($event)" hidden>
      
      <div class="icon">
        <i class="fa-solid fa-cloud-arrow-up"></i>
      </div>
      <p>Dosyaları buraya sürükleyin veya <strong>seçmek için tıklayın</strong></p>
      <span class="support-text">Desteklenen formatlar: {{ data.accept === '*/*' ? 'Tümü' : data.accept }}</span>
    </div>

    <div class="file-list" *ngIf="files.length > 0">
      <div class="file-item" *ngFor="let file of files; let i = index">
        <div class="file-info">
          <i class="fa-solid fa-file"></i>
          <div class="details">
            <span class="name">{{ file.name | truncate:30 }}</span>
            <span class="size">{{ formatBytes(file.size) }}</span>
          </div>
        </div>
        <button class="btn-remove" (click)="removeFile(i)" title="Kaldır">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
    </div>

  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="close()">İptal</button>
    
    <button mat-flat-button color="primary" 
            [mat-dialog-close]="files" 
            [disabled]="files.length === 0">
      Yükle ({{ files.length }})
    </button>
  </mat-dialog-actions>
</div>